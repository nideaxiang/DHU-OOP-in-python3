# 课程概述

作业 10%

期中 理论线上（11周左右） 40%

平时个人项目 +期末团队项目 50%



参考书目： 刘军《计算之魂》

### 图灵机—冯诺依曼机

###  程序设计：通过计算机语言（人与计算机沟通）告诉计算机做什么

### 计算机结构：外存储器（storage device）、运行系统

- 用户-APP-运行系统-硬件

### 人机会话示意：人-高级计算机语言-机器翻译程序-机器语言-计算机

## 面向对象：

## 	基本单位：对象

关键词： 类、属性、接口、包

工具：UML 、OOP、 OOA

行为：封装、继承、多态、组合

特点：可重用、可维护、高效率

一个类可以构建多个实例

### 大纲：

![image-20240301155241195](C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20240301155241195.png)



- 对象：内存中有位置存在；有ID；生命周期（声明和删除）
- 类：
  - 内置对象
    - 简单对象
      - 基本对象：int、float、bool等
      - 序列对象（可迭代）：tuple、list、dict等
    - 结构对象
      - 函数对象
      - 文件对象
  - 扩展库对象
    - 第三方：numpy等
    - 自定义：
      - 自定义函数
      - 自定义类

# 课程基本情况

#### 基础：计算机概念、环境、复习基础变量、三大结构

#### 难点：

​	可迭代对象（ str tuple list...）

​	regular正则表达式

​	文件操作 数据库

​	class 原理及设计

​	可视化 GUI

#### 操作：

​	程序调试

​	Git

#### 扩展：综合项目 flask



# 第一讲 python的安装和扩展包的使用

## 1. 弄清python的位置

在命令行输入 `where python`

可以看到两个路径:

- 第一个是anaconda虚拟环境下的exe
- 另一个是默认路径下的exe 

![image-20240302201140769](assets/image-20240302201140769.png)

例：

1.1 1.2安装下载python

1.3 1.4 1.5 安装一些扩展包

1.7 1.8 尝试使用原始的解释器进行一些操作

1.9  “_”特殊变量  可以用于保存上一次的运算结果

1.10 用逗号隔开可以同时运行多个结果，返回元组 

1.11 关闭 IDLE 指令：quit（）

1.12 -1.15调用 idle 执行一些操作

## 2. 使用文本解释器和命令行编写执行python

思路：在文本编辑器中输入源代码-在命令行中执行

例 :

1.16 使用记事本编写程序，保存时**选择所有文件-编码选择UTF**

1.17 使用命令行执行： python 路径 文件名.py

1.18 资源管理器运行py文件 指的是直接运行

1.19 使用命令行参数指的是在py 文件中留一个sys的接口，然后在命令行运行时 填上需要的参数

1.20-1.21 使用IDLE 编写简单的代码

1.22-1.23 使用帮助系统 `help()`查看一些modules和内置类型

1.24 python文档 在idle中按 F1打开



# 第二讲 程序概述

python程序由模块组成，模块由语句组成

例：

2.1使用奇怪的方法计算三角形的面积，说明python的四个层次：模块、语句、表达式、对象

## 对象的理解

1. 对象的本质是一个内存块

2. 每个对象都由标识id()、类型type()和值print()标识 **三个函数都是小写**

3. 标识用于唯一地标识一个对象

4. 创建实例对象的两个方法：

   1. 使用字面量创建
   2. 使用类对象创建

5. 变量对对象的引用

   ```python
   a = 123
   #字面量创建一个int对象123
   #a再引用(指向)对象123
   ```

   

例：

2.2查看对象的三要素

2.3 查看内置函数的对象

2.4 使用字面量创建实例对象（对于内置对象如数字、字符串等，**可以通过字面量表达式之间创建实例对象**）

```python
>>> 12
>>>"abc"
```

2.5 调用类创建实例对象

```python
>>> int(12)
>>>str("abc")
```

6. 对象的值比较和引用判断

- 值比较（**引用对象的值是否相等**）： ==
- 引用判断(**引用对象是否相同**)： is

7. 不可变对象与可变对象

8. 可变对象：值能够修改的对象

9. 不可变对象：值不能够修改（大部分）

   ## 标识符

   1. 规则：第一个字符必须是字母或是_ ,其后才可以是数字，不能用预定义的关键字，也不能使用特殊符号
   2. 使用`dir(__builtins__ ) `可以查看所有内置的异常名
   3. 特殊对象命名规则：
      - 类名：多个单词组成，每个单词的第一个字母大写
      - 常量名：全大写字母

## 变量和赋值语句

1. 机器语言和汇编语言： 直接通过内存地址访问这些数据

2. 高级语言：通过内存单元命名来访问这些数据

   赋值过程：通过最简单的字面量创建一个对象，并绑定到变量

``` python
>>> int(12)
>>>str("abc")
```

## 函数和模块

形式参数

实际参数



# 第三讲 程序控制流程

## 1. 顺序结构

## 2. 选择结构（分支结构）

- ### 单分支结构：当条件表达式为真True时执行，否则跳入下一个语句

  - # 假的情况：数值型为0，空字符串“”，空列表[]，空字典{}

  - # 真的情况：其余为真

  ``` python
  if 条件表达式：
  	语句
  ```

- ### 双分支结构：else （可以用两个if来表示）

- ### 多个elif

## 3. 循环结构

- ### 可迭代对象：序列（字符串、列表、元组等）、字典、文件对象、迭代器对象（range等）、生成器函数

- ### 迭代器对象：range 倒叙需要添加步长step=-1

- ### for 语句

- ### while 语句：条件表达式为True进行循环，但条件表达式中应包含控制循环的变量，循环语句可以是多条序列

- ### break 语句 ：提前结束循环，执行后继语句，当处于多个嵌套中时，break只应用于最里层的语句

  - # break常常和if连用，以判断循环是否继续

- ### continue语句：仅仅结束本次循环，并回到起始处

- ### for 以及 while中的else语句：如果循环for和while没有被中止，则会执行else，也就是说执行完while或for的循环就执行else语句

  ```python
  for 循环条件：
  	循环体
  else：
  	语句
  ```

- ### enumerate（）函数可以用于一个可遍历的数据对象，并返回一个可迭代对象

- ### zip() 函数将多个可迭代对象一一对应打包成一个个元组（如长度不一致，则返回最短长度）

- ### map()函数，在遍历的同时使用指定函数进行处理

  ```python
  map(len,[str1,str2,...])
  list(map)
  ```







# 第四讲 常用内置数据类型

## 1. 数值型：

## 1.1整数：

## - 字面量：可以为任意长度、自动创建int型对象

```python
int(数值，进制)
```

## - python语言支持下划线作为整数或浮点数千分位的标记、以增强阅读

```python
a=1_000_000_000_000
```

## - int的一个方法 `i.bit_length()` 返回i的二进制长度

## -进制问题：

十六 0x

八 0o

二 0b





## 1.2布尔：

## -取值：

- bool（0） False
- bool (字符串/其他数字)  True

## -逻辑运算符：优先级：非与或





## 1.3浮点数：

## - 字面量：带小数点的数字字符串、科学计数法

## -float的方法：

- 转化为分数`float.as_integer_ratio()` 返回一个元组

## -浮点数运算会产生误差



## 1.4复数complex：字面量包含虚部J

## - complex（real，imag）



## 2. 序列数据类型：

## 2.1 字符串

- 字面量：单引号、双引号、三单引号、三双引号
- 编码：默认16位Unicode，ASCII是Unicode编码的子集
  - **ord()可以将字符串转换为对应的Unicode码**
  - **chr()可以将ma转为字符**
- **字符串的格式化**：
  - 字符串.format（值1，值2，...）
  - str.format(格式化字符串，值1，值2)
  - format（值，格式化字符串）
  - 格式化字符串%（值1，值2）

## 2.2 元组、字节序列、列表（可变）

## 3. 集合类型：集合set、不可变集合frozenset

## 4. 字典类型

# 5. 特殊数据类型：

#    NoneType(仅包含唯一的值None) 	

#    NotImplementedType(仅唯一值NotImplementedType)   

  **在进行数值运算/比较时，如果对象不支持，则会返回该值**

#    EllipsisType：表示省略号



## 6.关系测算符号

- 当True 和False 与其他数值型比较时，自动转换为1和0
- **对于字符串类型的比较：按照ASCII码从左到右一一比较：首先比较两个各自的第一个字符如果相等则一一向后比较，直到出现不同的字符**

## 7. 隐式转换

- 运算对象中包含complex对象则其他对象自动转为complex
- 运算中包含float则自动中为float

- complex优先于float



## 8.内置数学运算函数

- round()函数第二个参数为负，则在小数点左边进行四舍五入



下次课：复杂数据类型  课前测试：第五章列表元组等



# 第五讲 序列数据类型

## 1- python内置的数据类型：元组、列表、字符串（str）、字节数据（bytes和byte array）

## 2-基本操作： 求长、最值、求和、索引、切片（包前不包后）、存/不存在、

## 出现次数`count`、第一次出现位置索引`index`

# 3. 冷门操作：

##   -1 比较运算：字符串按照字符顺序比较

```python
>>>a='abc'
>>>b='cba'
>>>a>b
>>> False
```

##  -2 排序操作 `sorted（序列,key,reverse）`，返回一个排序后的**列表**

key是用于计算比较键值的函数，reverse可以选择是否反向排序

##  -3内置的all()和any()函数

all()用于判断序列内是否全为True

any()用于判断序列内是否存在元素为True

##  -4序列的拆分:

##     -变量个数与序列长度相等的情况

```python
>>>a,b,c,d=(10,20,30,40)
>>>a
>>>10
```

##     -对于未知长度的序列，可以在某一个(只能有一个)变量前使用*，使得多个元素赋值给 "\*"

```python
>>>a=[1,2,3,4,5]
>>>b,*c,d=a
>>>c
>>>[2,3,4]
```



## 4 元组

### -创建时括号可以省略，但为了和简单数据类型的字面量赋值有区别，只有一个元素时需要加“，”号

```python 
>>>a=1,
>>>a
>>>(1,)
```

### -类对象创建 ：tuple（可枚举对象）   可枚举对象：range迭代器、序列对象等



## 5 列表

### -可变对象，可以改变列表中的值： del s[下标]、s[下标]=x

### - 列表方法：

- append 添加元素到尾部
- clear 清空所有元素
- copy 复制列表 等同于s=s1=[1,2,3]  **注意：id不同**
- extend 添加**序列**到尾部 **区别于append**
- insert(i,x) 在下标i处插入x,原来的元素后移
- pop(i) 移除并返回下标i号的元素
- remove（x） 移除列表中第一个出现的x
- reverse() 反转列表
- sort() 排序

### - 列表解析表达式

`[表达式 for i in 序列1 for j in 序列2 if 条件]` 返回一个列表

```python
>>>[[i,j,i*j] for i in range(10) for j in range(10) if i==j]
>>>[[0, 0, 0], [1, 1, 1], [2, 2, 4], [3, 3, 9], [4, 4, 16], [5, 5, 25], [6, 6, 36], [7, 7, 49], [8, 8, 64], [9, 9, 81]]
```



## 6 字符串：默认使用utf-8编码

# -格式化字符串

##    1. % 形式:  格式化字符 %（值1，值1...）

##      格式说明符：5个参数

``` python
字符串%[映射键][flags标识符][宽度][精度]type
```

对于type ：

%d 或%i 十进制整数

%e 科学计数法

%f 浮点数

%s 字符串

##      2. format函数

## `format(value,[填充符][对齐方式][左边是否用0填充][最小宽度][精度][type])`



##      3. format 方法： str.foramt()



## 7. 字节序列

###     1. bytes 不可变对象

创建方法：引号中智能包含ASCII码

- b'' 
- b""
- b''' '''
- b""" """

###    2.bytearray 可变对象



# 第六讲 输入和输出概述

## 1.命令行参数

### 1.1 通过 sys.argv 访问命令行参数：

- 编写好py文件，并在其中留下argv接口

  ```python
  import sys
  n=sys.argv[1]
  a=sys.argv[2]
  ```

- 在py文件对应路径下的命令行中传入参数

```python
xxx路径>python xxx.py argv[1] argv[2] ....
```

- 文件名其实就是第一个参数 argv[0] **argv[1]、argv[2]等输入内容都为字符串，如果要求输入数字等，需要在源文件的输入中使用int()或float()等函数**

```python
n=int(sys.argv[1])
```

### 1.2 通过argparse模块解析命令行参数：与sys类似，可以传入变动的参数

```python
import argparse #导入模块
#创建一个 ArgumentParser 对象，该对象包含将命令行输入内容解析成 Python 数据的过程所需的全部功能
parser = argparse.ArgumentParser)
#添加需要输入的命令行参数，中依次为参数名；参数类型，声明这个参数的数据类型为int为了参与运算，默认数据类型为str；描述信息
parser.add_argument('length', type=int, help='长度')
parser.add_argument('width', type=int, help='宽度')
#通过 parse_args() 方法解析参数，获取到命令行中输入的参数
args = parser.parse_args()
#将获取到的半径和高度args.length, args.width作为参数传到方法中得出结果
area=args.length* args.width
print(area)
```

## 2.标准输入和标准输出函数

### 2.1 输入和输出函数 

输入：`input([promot])` promot 处输入提示信息

输出：`print(value,...,sep='',end='\n')`打印一行的内容，默认的分隔符号是空格，结束时默认打印一个换行符'\n'

 ~~~ python
 >>>for i in range(5):
 		print(i,end='')#打印一行结束时不换行，以空格替代换行
 0 1 2 3 4 5
 ~~~

### 2.2交互式用户输入：根据用户输入改变程序控制流程（比如输入'-1'停止）

### 2.3 密码输入模块 getpass

~~~python
getpass.getpass(prompt'密码')
~~~

## 3.文件对象

### 3.1 打开文件

~~~python
f=open(file路径,mode='r/w/x/a/b/t',buffering=-1)
# mode 表示指定打开文件的模式,r为只读, w为写入,x为创建新文件
~~~

由于文件操作容易出问题，常常使用try...except...finally形式

~~~python
try:
    f=open(file,mode)
except:
    异常处理
finally:
    f.close()
~~~

### 3.2 文本文件是可迭代对象，可以使用循环语句遍历所有的行，最后记得关闭打开的文件`f.close()`

### 3.3 with 语句和上下文协议 对于try...except..finally的简化

~~~python
with context [as var]:
	操作语句
~~~

逻辑：执行语句时，首先调用context的enter（），将返回值赋给var；离开with时，最后调用context的exit（），释放资源。



## 5.标准输入、输出和错误流：python自动创建并打开3个文件流对象（标准输入、标准输出、错误输出）

可以使用sys模块来查看对于的对象

~~~python
import sys
sys.stdin
sys.stdout
sys.stderr
~~~

标准输入流对象默认是 控制台键盘；标准输出流对象/错误流对象默认是控制台

 **实际上print（）函数就是调用 sys.stdout.write()方法实现的**

重定向：例如可以将输出定向到一个文件中

~~~python
f =open('out.log','w')
sys.stdout=f
~~~

👆后续程序的输出将会被写入到out.log中



## 6.重定向和管道

### 6.1 重定向标准输出到一个文件：

### 逻辑：程序——》标准输出——》文件

方法：在命令行执行程序时在后面添加重定向指令`程序路径>程序 argv[1] > 输出文件`

![image-20240327151025430](assets/image-20240327151025430.png)

### 6.2 重新定向文件到标准输入：

### 逻辑：文本文件——》标准输入——》程序

方法：命令行中 `>程序名 < 文本文件`

![image-20240327151043062](assets/image-20240327151043062.png)

## 6.3 管道机制：将一个程序的标准输出与另一个程序的标注输入相连

## 逻辑：程序1——》标准输出——》标准输入——》程序2

方法：在命令行中`程序1|程序2|程序3`

**意义：不需要中间文件，消除了输入流和输出流处理数据大小的限制**



![image-20240327150823729](assets/image-20240327150823729.png)

### 6.4 过滤器： 在管道机制中，每个程序可以被视为一个过滤器，过滤器通过某种形式将标准输入流转化为标准输出流

 





